(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["@atlaskit-internal_resourcedEmojiComponent"],{

/***/ "./node_modules/@atlaskit/emoji/dist/es2015/components/common/ResourcedEmojiComponent.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@atlaskit/emoji/dist/es2015/components/common/ResourcedEmojiComponent.js ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants */ \"./node_modules/@atlaskit/emoji/dist/es2015/constants.js\");\n/* harmony import */ var _CachingEmoji__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CachingEmoji */ \"./node_modules/@atlaskit/emoji/dist/es2015/components/common/CachingEmoji.js\");\n/* harmony import */ var _EmojiPlaceholder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EmojiPlaceholder */ \"./node_modules/@atlaskit/emoji/dist/es2015/components/common/EmojiPlaceholder.js\");\n/* harmony import */ var _type_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../type-helpers */ \"./node_modules/@atlaskit/emoji/dist/es2015/type-helpers.js\");\n\n\n\n\n\n\n\n\nvar ResourcedEmojiComponent = /** @class */ (function (_super) {\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__extends\"](ResourcedEmojiComponent, _super);\n    function ResourcedEmojiComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ready = false;\n        _this.state = {\n            emoji: undefined,\n            loaded: false,\n        };\n        return _this;\n    }\n    ResourcedEmojiComponent.prototype.getChildContext = function () {\n        return {\n            emoji: {\n                emojiProvider: this.props.emojiProvider,\n            },\n        };\n    };\n    ResourcedEmojiComponent.prototype.refreshEmoji = function (emojiProvider, emojiId) {\n        var _this = this;\n        var foundEmoji = emojiProvider.findByEmojiId(emojiId);\n        if (Object(_type_helpers__WEBPACK_IMPORTED_MODULE_6__[\"isPromise\"])(foundEmoji)) {\n            this.setState({\n                loaded: false,\n            });\n            foundEmoji.then(function (emoji) {\n                if (_this.ready) {\n                    // don't update state if component was unmounted\n                    _this.setState({\n                        emoji: emoji,\n                        loaded: true,\n                    });\n                }\n            });\n        }\n        else {\n            // loaded\n            this.setState({\n                emoji: foundEmoji,\n                loaded: true,\n            });\n        }\n    };\n    ResourcedEmojiComponent.prototype.componentWillMount = function () {\n        this.ready = true;\n        if (!this.state.emoji) {\n            // using componentWillMount instead of componentDidMount to avoid needless\n            // rerendering.\n            this.refreshEmoji(this.props.emojiProvider, this.props.emojiId);\n        }\n    };\n    ResourcedEmojiComponent.prototype.componentWillUnmount = function () {\n        this.ready = false;\n    };\n    ResourcedEmojiComponent.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.emojiProvider !== this.props.emojiProvider ||\n            nextProps.emojiId !== this.props.emojiId) {\n            this.refreshEmoji(nextProps.emojiProvider, nextProps.emojiId);\n        }\n    };\n    ResourcedEmojiComponent.prototype.render = function () {\n        var _a = this.props, emojiId = _a.emojiId, _b = _a.fitToHeight, fitToHeight = _b === void 0 ? _constants__WEBPACK_IMPORTED_MODULE_3__[\"defaultEmojiHeight\"] : _b, showTooltip = _a.showTooltip;\n        var _c = this.state, emoji = _c.emoji, loaded = _c.loaded;\n        var shortName = emojiId.shortName, fallback = emojiId.fallback;\n        if (emoji) {\n            return this.emojiWrapper(react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"](_CachingEmoji__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { emoji: emoji, showTooltip: showTooltip, fitToHeight: fitToHeight }));\n        }\n        else if (loaded) {\n            // loaded but not found - render fallback\n            return this.emojiWrapper(react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"](\"span\", null, fallback || shortName));\n        }\n        return this.emojiWrapper(react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"](_EmojiPlaceholder__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { shortName: shortName, showTooltip: showTooltip, size: fitToHeight || _constants__WEBPACK_IMPORTED_MODULE_3__[\"defaultEmojiHeight\"] }));\n    };\n    ResourcedEmojiComponent.prototype.emojiWrapper = function (element) {\n        var _a = this.props.emojiId, shortName = _a.shortName, id = _a.id, fallback = _a.fallback;\n        return (react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"](\"span\", { \"data-emoji-id\": id, \"data-emoji-short-name\": shortName, \"data-emoji-text\": fallback || shortName }, element));\n    };\n    ResourcedEmojiComponent.childContextTypes = {\n        emoji: prop_types__WEBPACK_IMPORTED_MODULE_2__[\"object\"],\n    };\n    return ResourcedEmojiComponent;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourcedEmojiComponent);\n//# sourceMappingURL=ResourcedEmojiComponent.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF0bGFza2l0L2Vtb2ppL2Rpc3QvZXMyMDE1L2NvbXBvbmVudHMvY29tbW9uL1Jlc291cmNlZEVtb2ppQ29tcG9uZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BhdGxhc2tpdC9lbW9qaS9kaXN0L2VzMjAxNS9jb21wb25lbnRzL2NvbW1vbi9SZXNvdXJjZWRFbW9qaUNvbXBvbmVudC5qcz81NGI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkZWZhdWx0RW1vamlIZWlnaHQgfSBmcm9tICcuLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IENhY2hpbmdFbW9qaSBmcm9tICcuL0NhY2hpbmdFbW9qaSc7XG5pbXBvcnQgRW1vamlQbGFjZWhvbGRlciBmcm9tICcuL0Vtb2ppUGxhY2Vob2xkZXInO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vLi4vdHlwZS1oZWxwZXJzJztcbnZhciBSZXNvdXJjZWRFbW9qaUNvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXNvdXJjZWRFbW9qaUNvbXBvbmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZXNvdXJjZWRFbW9qaUNvbXBvbmVudChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBlbW9qaTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXNvdXJjZWRFbW9qaUNvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1vamk6IHtcbiAgICAgICAgICAgICAgICBlbW9qaVByb3ZpZGVyOiB0aGlzLnByb3BzLmVtb2ppUHJvdmlkZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgUmVzb3VyY2VkRW1vamlDb21wb25lbnQucHJvdG90eXBlLnJlZnJlc2hFbW9qaSA9IGZ1bmN0aW9uIChlbW9qaVByb3ZpZGVyLCBlbW9qaUlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmb3VuZEVtb2ppID0gZW1vamlQcm92aWRlci5maW5kQnlFbW9qaUlkKGVtb2ppSWQpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKGZvdW5kRW1vamkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3VuZEVtb2ppLnRoZW4oZnVuY3Rpb24gKGVtb2ppKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlYWR5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHVwZGF0ZSBzdGF0ZSBpZiBjb21wb25lbnQgd2FzIHVubW91bnRlZFxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbW9qaTogZW1vamksXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbG9hZGVkXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlbW9qaTogZm91bmRFbW9qaSxcbiAgICAgICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzb3VyY2VkRW1vamlDb21wb25lbnQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5lbW9qaSkge1xuICAgICAgICAgICAgLy8gdXNpbmcgY29tcG9uZW50V2lsbE1vdW50IGluc3RlYWQgb2YgY29tcG9uZW50RGlkTW91bnQgdG8gYXZvaWQgbmVlZGxlc3NcbiAgICAgICAgICAgIC8vIHJlcmVuZGVyaW5nLlxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoRW1vamkodGhpcy5wcm9wcy5lbW9qaVByb3ZpZGVyLCB0aGlzLnByb3BzLmVtb2ppSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNvdXJjZWRFbW9qaUNvbXBvbmVudC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIFJlc291cmNlZEVtb2ppQ29tcG9uZW50LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgICAgICBpZiAobmV4dFByb3BzLmVtb2ppUHJvdmlkZXIgIT09IHRoaXMucHJvcHMuZW1vamlQcm92aWRlciB8fFxuICAgICAgICAgICAgbmV4dFByb3BzLmVtb2ppSWQgIT09IHRoaXMucHJvcHMuZW1vamlJZCkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoRW1vamkobmV4dFByb3BzLmVtb2ppUHJvdmlkZXIsIG5leHRQcm9wcy5lbW9qaUlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzb3VyY2VkRW1vamlDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgZW1vamlJZCA9IF9hLmVtb2ppSWQsIF9iID0gX2EuZml0VG9IZWlnaHQsIGZpdFRvSGVpZ2h0ID0gX2IgPT09IHZvaWQgMCA/IGRlZmF1bHRFbW9qaUhlaWdodCA6IF9iLCBzaG93VG9vbHRpcCA9IF9hLnNob3dUb29sdGlwO1xuICAgICAgICB2YXIgX2MgPSB0aGlzLnN0YXRlLCBlbW9qaSA9IF9jLmVtb2ppLCBsb2FkZWQgPSBfYy5sb2FkZWQ7XG4gICAgICAgIHZhciBzaG9ydE5hbWUgPSBlbW9qaUlkLnNob3J0TmFtZSwgZmFsbGJhY2sgPSBlbW9qaUlkLmZhbGxiYWNrO1xuICAgICAgICBpZiAoZW1vamkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtb2ppV3JhcHBlcihSZWFjdC5jcmVhdGVFbGVtZW50KENhY2hpbmdFbW9qaSwgeyBlbW9qaTogZW1vamksIHNob3dUb29sdGlwOiBzaG93VG9vbHRpcCwgZml0VG9IZWlnaHQ6IGZpdFRvSGVpZ2h0IH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIGxvYWRlZCBidXQgbm90IGZvdW5kIC0gcmVuZGVyIGZhbGxiYWNrXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbW9qaVdyYXBwZXIoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgZmFsbGJhY2sgfHwgc2hvcnROYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZW1vamlXcmFwcGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRW1vamlQbGFjZWhvbGRlciwgeyBzaG9ydE5hbWU6IHNob3J0TmFtZSwgc2hvd1Rvb2x0aXA6IHNob3dUb29sdGlwLCBzaXplOiBmaXRUb0hlaWdodCB8fCBkZWZhdWx0RW1vamlIZWlnaHQgfSkpO1xuICAgIH07XG4gICAgUmVzb3VyY2VkRW1vamlDb21wb25lbnQucHJvdG90eXBlLmVtb2ppV3JhcHBlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMuZW1vamlJZCwgc2hvcnROYW1lID0gX2Euc2hvcnROYW1lLCBpZCA9IF9hLmlkLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgXCJkYXRhLWVtb2ppLWlkXCI6IGlkLCBcImRhdGEtZW1vamktc2hvcnQtbmFtZVwiOiBzaG9ydE5hbWUsIFwiZGF0YS1lbW9qaS10ZXh0XCI6IGZhbGxiYWNrIHx8IHNob3J0TmFtZSB9LCBlbGVtZW50KSk7XG4gICAgfTtcbiAgICBSZXNvdXJjZWRFbW9qaUNvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgZW1vamk6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgfTtcbiAgICByZXR1cm4gUmVzb3VyY2VkRW1vamlDb21wb25lbnQ7XG59KENvbXBvbmVudCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVzb3VyY2VkRW1vamlDb21wb25lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvdXJjZWRFbW9qaUNvbXBvbmVudC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@atlaskit/emoji/dist/es2015/components/common/ResourcedEmojiComponent.js\n");

/***/ })

}]);